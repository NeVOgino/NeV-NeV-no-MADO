# 資料ファイルの管理ガイド

このガイドでは、ウェブサイトにリンクする資料ファイル（PDF、画像、Excelなど）をどこに保存し、どのようにリンクするかを説明します。

## 📂 資料ファイルの保存方法

現在、ウェブサイト上のすべてのリンクは `href="#"` というプレースホルダーになっています。実際の資料ファイルにリンクするには、以下のいずれかの方法を選択してください。

---

## 方法1: GitHubリポジトリに保存（推奨）

### メリット
- ✅ ファイルとウェブサイトが同じ場所で管理できる
- ✅ バージョン管理が可能
- ✅ 無料で使用可能
- ✅ アクセス制御が可能

### 手順

#### ステップ1: 資料フォルダを作成

1. GitHubのリポジトリページを開く
2. 「Add file」→「Create new file」をクリック
3. ファイル名に `documents/.gitkeep` と入力（.gitkeepは空のフォルダを作成するためのダミーファイル）
4. 「Commit new file」をクリック

#### ステップ2: 資料ファイルをアップロード

1. `documents` フォルダを開く
2. 「Add file」→「Upload files」をクリック
3. ファイルをドラッグ&ドロップ、または「choose your files」をクリックして選択
4. コミットメッセージを入力（例：「R6年度カレンダーを追加」）
5. 「Commit changes」をクリック

推奨フォルダ構造：
```
documents/
├── calendars/          # カレンダー
│   ├── R6年度カレンダー.pdf
│   └── R7年度カレンダー.pdf
├── announcements/      # お知らせ
│   ├── 訓練結果.pdf
│   └── ハラスメント相談窓口.pdf
├── manuals/           # マニュアル
│   ├── 冊子版.pdf
│   └── ポケット版.pdf
├── forms/             # 各種帳票
│   ├── 稟議書.xlsx
│   └── 契約関係決裁書.xlsx
└── evacuation/        # 避難経路図
    ├── 避難経路図_3階.pdf
    └── 避難経路図_4階.pdf
```

#### ステップ3: リンクを更新

ファイルをアップロードしたら、`index.html` でリンクを更新します。

**GitHubでのファイルパス形式**:
```
./documents/フォルダ名/ファイル名.pdf
```

**例**:
```html
<!-- 変更前 -->
<a href="#" class="link">R6年度カレンダー</a>

<!-- 変更後 -->
<a href="./documents/calendars/R6年度カレンダー.pdf" class="link">R6年度カレンダー</a>
```

---

## 方法2: 既存の社内サーバー（Hドライブ）を使用

### メリット
- ✅ 既存のファイル管理システムをそのまま使える
- ✅ 大容量ファイルに対応
- ✅ 既存のアクセス権限を維持

### 注意事項
⚠️ 社内ネットワーク内でのみアクセス可能
⚠️ VPN接続が必要な場合がある

### 手順

#### ステップ1: ファイルを共有フォルダに保存

Excelファイルに記載されている通り、`share(H)` ドライブに資料を保存します。

推奨フォルダ構造：
```
H:/NEVの窓/
├── カレンダー/
├── お知らせ/
├── マニュアル/
├── 帳票フォーマット/
└── 避難経路図/
```

#### ステップ2: 社内ファイル共有のURLを使用

社内ファイルサーバーのURLを使ってリンクします。

**形式**:
```
file:///H:/NEVの窓/フォルダ名/ファイル名.pdf
```

**例**:
```html
<a href="file:///H:/NEVの窓/カレンダー/R6年度カレンダー.pdf" class="link">R6年度カレンダー</a>
```

**または SharePoint/OneDrive の場合**:
```html
<a href="https://yourdomain.sharepoint.com/sites/NEV/Shared%20Documents/カレンダー/R6年度カレンダー.pdf" class="link">R6年度カレンダー</a>
```

---

## 方法3: 外部ストレージサービスを使用

### 対応サービス
- Google Drive
- Dropbox
- OneDrive
- Box

### メリット
- ✅ 大容量に対応
- ✅ 簡単に共有可能
- ✅ どこからでもアクセス可能

### 手順

#### ステップ1: ファイルをアップロード

1. 選択したクラウドストレージにファイルをアップロード
2. ファイルを右クリック→「共有リンクを取得」または「リンクを共有」
3. 共有設定を「リンクを知っている全員」または「組織内の全員」に設定
4. URLをコピー

#### ステップ2: リンクを更新

```html
<!-- Google Drive の例 -->
<a href="https://drive.google.com/file/d/XXXXXXXXXXXXXXX/view" class="link">R6年度カレンダー</a>

<!-- OneDrive の例 -->
<a href="https://onedrive.live.com/embed?cid=XXXXX&resid=XXXXX" class="link">R6年度カレンダー</a>
```

---

## 🔗 リンクの更新方法（詳細）

### HTMLでリンクを更新する

1. GitHubで `index.html` を開く
2. 鉛筆マーク（✏️）をクリックして編集
3. 更新したいリンクを検索（Ctrl+F または Cmd+F で `href="#"`）
4. `#` を実際のファイルパスまたはURLに置き換え
5. 変更を保存（Commit）

### 一括変更の例

複数のリンクを一度に変更する場合：

```html
<!-- 全員向けタブ - 共通コーナー -->
<li><a href="./documents/calendars/R6年度カレンダー.pdf" class="link">R6年度カレンダー</a></li>
<li><a href="./documents/calendars/R7年度カレンダー.pdf" class="link">R7年度カレンダー</a></li>
<li><a href="./documents/organization/NEV組織人員体制.pdf" class="link">NEV 組織・人員体制（最新）</a></li>
<li><a href="./documents/logos/NEVロゴ.zip" class="link">★ロゴデータファイル</a></li>
<li><a href="./documents/pamphlets/NeVパンフレット.pdf" class="link">NeV パンフレット</a></li>
```

---

## 🎯 推奨される運用方法

### 初期セットアップ（管理者が実施）

1. **フォルダ構造を決定**
   - GitHubの `documents` フォルダを作成
   - または既存の Hドライブのフォルダを整理

2. **既存ファイルを移行**
   - Excelファイルに記載されている資料を特定
   - 選択した保存場所にアップロード
   - ファイル名を整理（日本語対応、スペースなし推奨）

3. **リンクを一括更新**
   - すべての `href="#"` を実際のパスに変更
   - 動作確認

### 日常運用（担当者が実施）

1. **新しい資料を追加する時**
   - 資料を保存場所にアップロード
   - `index.html` に新しいリンクを追加
   - 「更新マニュアル.md」の「パターン1」を参照

2. **既存の資料を更新する時**
   - 古いファイルを削除
   - 新しいファイルを同じ場所、同じ名前でアップロード
   - HTMLのリンクは変更不要（ファイル名が同じ場合）

3. **リンク切れを防ぐ**
   - ファイルを削除する前に、リンクを削除または更新
   - 定期的にリンクの動作を確認

---

## 🔒 セキュリティとアクセス制御

### 社内専用資料の場合

**方法1**: プライベートリポジトリを使用
- GitHubのリポジトリを「Private」に設定
- アクセス権限を持つユーザーのみが閲覧可能

**方法2**: 社内ネットワーク内でのみ公開
- GitHub Pagesを無効化
- 社内サーバーでホスティング
- ファイルパスは社内Hドライブを使用

**方法3**: 認証付きストレージを使用
- SharePoint、OneDriveなど
- 組織内のユーザーのみアクセス可能に設定

---

## ❓ よくある質問

### Q1: GitHubにアップロードできるファイルサイズの制限は？

**A**: 1ファイルあたり100MBまで推奨。大きなファイルは外部ストレージを使用してください。

### Q2: ファイル名に日本語を使っても大丈夫？

**A**: 可能ですが、URLエンコードが必要な場合があります。英数字とハイフン、アンダースコアのみ使用することを推奨します。

**良い例**: `R6-calendar.pdf`, `evacuation-3F.pdf`  
**避けたほうが良い例**: `R6年度カレンダー.pdf`（動作はしますが、URLが長くなります）

### Q3: リンクが動作しない場合は？

**A**: 以下を確認してください：
1. ファイルパスが正しいか
2. ファイル名の大文字・小文字が一致しているか
3. ファイルが実際にアップロードされているか
4. ブラウザの開発者ツール（F12）でエラーを確認

### Q4: 既存の Hドライブの資料をそのまま使えますか？

**A**: はい、可能です。ただし：
- 社内ネットワーク内でのみアクセス可能
- `file:///` プロトコルを使用
- ブラウザのセキュリティ設定によってはブロックされる場合があります

---

## 📞 サポート

この資料ファイル管理について質問がある場合は：

1. **「更新マニュアル.md」を参照** - 基本的な編集方法
2. **このガイドを参照** - ファイルの保存とリンク方法
3. **管理者に連絡** - 技術的な問題

---

**作成日**: 2025年11月4日  
**バージョン**: 1.0
